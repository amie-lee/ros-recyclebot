<launch>
  <!-- 1) USB 카메라: 퍼블리시를 /camera/* 로 통일 -->
  <node pkg="usb_cam" type="usb_cam_node" name="usb_cam" output="screen">
    <param name="video_device" value="/dev/video0"/>
    <param name="framerate"    value="15"/>
    <param name="image_width"  value="320"/>
    <param name="image_height" value="240"/>
    <param name="pixel_format" value="yuyv"/>
    <param name="io_method"    value="mmap"/>
  </node>

  <!-- 2) 모터 드라이버 (노드 프라이빗 네임스페이스로 파라미터 로드) -->
  <node pkg="linevoice_bot" type="motor_driver.py" name="motor_driver" output="screen">
    <rosparam file="$(find linevoice_bot)/config/pins.yaml"   command="load"/>
    <rosparam file="$(find linevoice_bot)/config/params.yaml" command="load"/>
  </node>

  <!-- 3) 비전 라인트래커 (여기도 노드 프라이빗으로 로드) -->
  <node pkg="linevoice_bot" type="line_tracker_vision.py" name="line_tracker_vision" output="screen">
    <rosparam file="$(find linevoice_bot)/config/params.yaml" command="load"/>
  </node>

  <!-- 4) (선택) 음성 노드: 나중에 켜도 됨 -->
  <!-- <node pkg="linevoice_bot" type="voice_cmd_google.py" name="voice_cmd_google" output="screen">
    <rosparam file="$(find linevoice_bot)/config/params.yaml" command="load"/>
  </node> -->

  <!-- 5) 디버그 뷰 -->
  <node pkg="image_view" type="image_view" name="line_debug_view" output="screen">
    <remap from="image" to="/line_debug"/>
  </node>
</launch>

